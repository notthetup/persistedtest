<!DOCTYPE html>
<html>
<head>
	<title>Test</title>
	<script type="text/javascript">
		window.addEventListener('load', () => {
			console.log('loaded test');
			window.addEventListener('beforeunload', e => {
				console.log('before unload test');
				e.preventDefault();
				e.returnValue = 'Blah';
			});
		});
		window.addEventListener('pageshow', function(event) {
			const log = document.getElementById('log');
			console.log('onpageshow');
			console.dir(event);
			log.innerHTML = 'event.persisted is ' + event.persisted;
			console.log(window.performance.navigation.type);
		});
		window.addEventListener('pagehide', function(event) {
			console.log('onpagehide');
			console.dir(event);
		});
	</script>
</head>
<body>
	<h2>PageTransitionEvent.persisted test</h2>
	<a href="index.html">Go to index</a>
	<p id="log"></p>
</body>
</html>
